import{_ as f,n as g,p as V,u as y,g as w,e as t,w as n,r as l,a as k,o as x,h as L,l as v,q as C}from"./index-C_UGMlch.js";const I={class:"body-login"},N={__name:"Login",setup(S){const o=g({username:"",password:""}),{proxy:p}=V(),r=y(),m=k(),c=async()=>{const a=C(o.username,o.password);if(a.code===200){const{token:e,menuList:s}=a.data;r.updateMenuList(s),r.state.token=e,localStorage.setItem("token",e),localStorage.setItem("menuList",JSON.stringify(s)),r.addMenu(m),m.push("/home")}else p.$message.error(a.data.message)};return(a,e)=>{const s=l("el-input"),u=l("el-form-item"),i=l("el-button"),_=l("el-form");return x(),w("div",I,[t(_,{model:o,class:"login-container"},{default:n(()=>[e[3]||(e[3]=L("h1",null,"欢迎登录",-1)),t(u,null,{default:n(()=>[t(s,{type:"input",placeholder:"请输入账号",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=d=>o.username=d)},null,8,["modelValue"])]),_:1}),t(u,null,{default:n(()=>[t(s,{type:"password",placeholder:"请输入密码",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=d=>o.password=d)},null,8,["modelValue"])]),_:1}),t(u,null,{default:n(()=>[t(i,{type:"primary",onClick:c},{default:n(()=>e[2]||(e[2]=[v("登录")])),_:1})]),_:1})]),_:1},8,["model"])])}}},B=f(N,[["__scopeId","data-v-578ecda3"]]);export{B as default};
