import{_ as f,p as g,q as V,a as y,h as w,f as t,w as n,r as l,b as k,o as x,i as L,m as b,s as v}from"./index-CBJaQxBI.js";const C={class:"body-login"},I={__name:"Login",setup(N){const o=g({username:"",password:""}),{proxy:p}=V(),r=y(),m=k(),i=async()=>{const a=v(o.username,o.password);if(a.code===200){const{token:e,menuList:s}=a.data;r.updateMenuList(s),r.state.token=e,localStorage.setItem("token",e),localStorage.setItem("menuList",JSON.stringify(s)),r.addMenu(m),m.push("/home")}else p.$message.error(a.data.message)};return(a,e)=>{const s=l("el-input"),u=l("el-form-item"),c=l("el-button"),_=l("el-form");return x(),w("div",C,[t(_,{model:o,class:"login-container"},{default:n(()=>[e[3]||(e[3]=L("h1",null,"欢迎登录",-1)),t(u,null,{default:n(()=>[t(s,{type:"input",placeholder:"请输入账号",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=d=>o.username=d)},null,8,["modelValue"])]),_:1}),t(u,null,{default:n(()=>[t(s,{type:"password",placeholder:"请输入密码",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=d=>o.password=d)},null,8,["modelValue"])]),_:1}),t(u,null,{default:n(()=>[t(c,{type:"primary",onClick:i},{default:n(()=>e[2]||(e[2]=[b("登录")])),_:1})]),_:1})]),_:1},8,["model"])])}}},B=f(I,[["__scopeId","data-v-578ecda3"]]);export{B as default};
