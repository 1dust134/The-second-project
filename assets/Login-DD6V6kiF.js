import{_ as f,n as h,p as k,u as x,g as b,e as a,w as n,r as s,a as y,o as V,h as L,l as w}from"./index-C6gKOjmc.js";function v(r,o){return r==="admin"&&o==="admin"?{code:200,data:{menuList:[{path:"/home",name:"home",label:"首页",icon:"house",url:"Home"},{path:"/mall",name:"mall",label:"商品管理",icon:"video-play",url:"Mall"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"User"},{path:"other",label:"其他",icon:"location",children:[{path:"/page1",name:"page1",label:"页面1",icon:"setting",url:"Page1"},{path:"/page2",name:"page2",label:"页面2",icon:"setting",url:"Page2"}]}],token:"mock-token-admin",message:"获取成功"}}:r==="xiaoxiao"&&o==="xiaoxiao"?{code:200,data:{menuList:[{path:"/home",name:"home",label:"首页",icon:"house",url:"Home"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"User"}],token:"mock-token-xiaoxiao",message:"获取成功"}}:{code:-999,data:{message:"账号或密码错误"}}}const C={class:"body-login"},I={__name:"Login",setup(r){const o=h({username:"",password:""}),{proxy:p}=k(),u=x(),d=y(),c=async()=>{const l=v(o.username,o.password);if(l.code===200){const{token:e,menuList:t}=l.data;u.updateMenuList(t),u.state.token=e,localStorage.setItem("token",e),localStorage.setItem("menuList",JSON.stringify(t)),u.addMenu(d),d.push("/home")}else p.$message.error(l.data.message)};return(l,e)=>{const t=s("el-input"),m=s("el-form-item"),g=s("el-button"),_=s("el-form");return V(),b("div",C,[a(_,{model:o,class:"login-container"},{default:n(()=>[e[3]||(e[3]=L("h1",null,"欢迎登录",-1)),a(m,null,{default:n(()=>[a(t,{type:"input",placeholder:"请输入账号",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=i=>o.username=i)},null,8,["modelValue"])]),_:1}),a(m,null,{default:n(()=>[a(t,{type:"password",placeholder:"请输入密码",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i)},null,8,["modelValue"])]),_:1}),a(m,null,{default:n(()=>[a(g,{type:"primary",onClick:c},{default:n(()=>e[2]||(e[2]=[w("登录")])),_:1})]),_:1})]),_:1},8,["model"])])}}},S=f(I,[["__scopeId","data-v-578ecda3"]]);export{S as default};
